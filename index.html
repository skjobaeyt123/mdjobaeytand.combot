<!DOCTYPE html>  <html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>AdBikash</title>  
  <style>  
    body { font-family: Arial, sans-serif; background: #f4f7fe; margin: 0; padding: 0; }  
    header { background: #1a237e; color: #fff; padding: 15px; text-align: center; font-size: 20px; font-weight: bold; }  
    .container { padding: 20px; }  
    .card { background: #fff; border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }  
    .btn { display: inline-block; padding: 10px 15px; background: #1a73e8; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px; width: 100%; }  
    nav { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; display: flex; justify-content: space-around; border-top: 1px solid #ccc; padding: 10px 0; }  
    nav button { background: none; border: none; font-size: 14px; color: #1a237e; cursor: pointer; }  
    .hidden { display: none; }  
    input, select { width: 100%; padding: 10px; margin: 8px 0; border-radius: 6px; border: 1px solid #ccc; }  
    a { display: block; color: #1a73e8; text-decoration: none; margin: 5px 0; font-weight: bold; }  
  </style>  
</head>  
<body>  <header>AdBikash</header>  <div class="container" id="welcomeScreen">  
  <div class="card" style="text-align: center;">  
    <img src="welcome.jpg" alt="Welcome" style="width: 200px; border-radius: 10px; margin-bottom: 15px;" />  
    <h2>üéâ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ AdBikash ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ‡ßá!</h2>  
    <p>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶Ü‡¶∞ ‡¶¨‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶®‡¶ø‡¶®!</p>  
    <a href="https://t.me/ADANDINCAMMANYOfficialgroup" target="_blank">üì¢ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</a>  
    <a href="https://t.me/ADANDINCAMMANYOfficialgroup" target="_blank">üë• ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</a>  
    <button class="btn" onclick="goToLogin()">‚ñ∂Ô∏è START</button>  
  </div>  
</div>  <div class="container hidden" id="login">  
  <div class="card">  
    <h3>Enter your username</h3>  
    <input type="text" id="usernameInput" placeholder="e.g. user123" />  
    <button class="btn" onclick="startApp()">Continue</button>  
  </div>  
</div>  <div class="container hidden" id="home">  
  <div class="card">  
    <h3 id="userDisplay">Username</h3>  
    <p><strong>Balance:</strong> <span id="balance">0</span> Coins</p>  
  </div>  
  <div class="card">  
    <h4>Today's Tasks</h4>  
    <p>Total Tasks: ‚àû<br> Completed: <span id="completed">0</span><br> Remaining: ‚àû</p>  
  </div>  
  <div class="card">  
    <h4>Earnings</h4>  
    <p>Today's Earnings: BDT <span id="todayEarning">0.00</span><br> Lifetime Earnings: BDT <span id="lifetimeEarning">0.00</span></p>  
  </div>  
</div>  <div class="container hidden" id="earn">  
  <div class="card">  
    <h4>Today's Tasks</h4>  
    <p>Total Tasks: ‚àû<br> Completed: <span id="completedEarn">0</span><br> Remaining: ‚àû</p>  
    <button class="btn" onclick="showAd()">Start Task Monetag</button>  
    <div id="adContainer" style="margin-top:15px;"></div>  
    <div class="card">  
      <h4>Enter Referral Code (Optional):</h4>  
      <input type="text" id="refInput" placeholder="Enter referral code"/>  
    </div>  
  </div>  
</div>  <div class="container hidden" id="withdraw">  
  <div class="card">  
    <h4>Available Balance: <span id="balanceWithdraw">0</span> Coins</h4>  
    <h4>Request Withdrawal</h4>  
    <select id="method">  
      <option value="">Select a method</option>  
      <option value="recharge">Mobile Recharge (25-50 BDT - 5000 Coins)</option>  
      <option value="bkash">bKash/Nagad (50-100 BDT - 10000 Coins)</option>  
    </select>  
    <input type="number" id="amount" placeholder="Enter amount"/>  
    <input type="text" id="wallet" placeholder="Enter wallet/address"/>  
    <button class="btn" onclick="submitWithdraw()">Submit Withdrawal</button>  
  </div>  
</div>  <div class="container hidden" id="profile">  
  <div class="card">  
    <h3>Profile</h3>  
    <p>Username: <span id="profileUsername"></span></p>  
    <p>Balance: <span id="balanceProfile">0</span> Coins</p>  
    <p>Your Referral Code:</p>  
    <input type="text" id="myRefCode" readonly style="background:#eee;" />  
    <p>Referral Link:</p>  
    <input type="text" id="refLink" readonly style="background:#eee;" />  
    <button class="btn" onclick="copyRefCode()">Copy Code</button>  
  </div>  
</div>  <div class="container hidden" id="leaderboard">  
  <div class="card">  
    <h3>üèÜ Leaderboard - Top 10 Earners</h3>  
    <ol id="leaderboardList"></ol>  
  </div>  
</div>  <div class="container hidden" id="withdrawHistory">  
  <div class="card">  
    <h3>üìú Withdraw History</h3>  
    <ul id="withdrawList"></ul>  
  </div>  
</div>  <nav class="hidden" id="navBar">  
  <button onclick="navigate('home')">üè† Home</button>  
  <button onclick="navigate('earn')">üíº Earn</button>  
  <button onclick="navigate('withdraw')">üí≥ Withdraw</button>  
  <button onclick="navigate('leaderboard')">üèÜ Leaderboard</button>  
  <button onclick="navigate('withdrawHistory')">üìú History</button>  
  <button onclick="navigate('profile')">üë§ Profile</button>  
</nav>  <script src='//libtl.com/sdk.js' data-zone='9370281' data-sdk='show_9370281'></script>  <script>  
// Capture referral from URL  
const urlParams = new URLSearchParams(window.location.search);  
const ref = urlParams.get("ref");  
if (ref) {  
  localStorage.setItem("pendingReferral", ref);  
}  
let userData = {};  
let adCooldown = false;  
  
function goToLogin() {  
  document.getElementById("welcomeScreen").classList.add("hidden");  
  document.getElementById("login").classList.remove("hidden");  
}  
  
window.onload = () => {  
  document.getElementById("welcomeScreen").classList.remove("hidden");  
  document.getElementById("login").classList.add("hidden");  
};  
  
function startApp() {  
  const username = document.getElementById("usernameInput").value.trim();  
  if (!username) return alert("Enter a valid username");  
  
  const userKey = "adsUser_" + username;  
  const saved = localStorage.getItem(userKey);  
  userData = saved ? JSON.parse(saved) : {  
    coins: 0,  
    completed: 0,  
    completedEarn: 0,  
    username,  
    myCode: "REF" + Math.floor(Math.random() * 100000),  
    referrals: [],  
    withdrawn: false,  
    referredBy: localStorage.getItem("pendingReferral") || null  
  };  
  
  document.getElementById("login").classList.add("hidden");  
  document.getElementById("home").classList.remove("hidden");  
  document.getElementById("navBar").classList.remove("hidden");  
  
  updateUI();  
  setupReferral(userKey);  
}  
  
function updateUI() {  
  document.getElementById("userDisplay").innerText = userData.username;  
  document.getElementById("profileUsername").innerText = userData.username;  
  document.getElementById("balance").innerText = userData.coins;  
  document.getElementById("balanceWithdraw").innerText = userData.coins;  
  document.getElementById("balanceProfile").innerText = userData.coins;  
  document.getElementById("completed").innerText = userData.completed;  
  document.getElementById("completedEarn").innerText = userData.completedEarn || 0;  
  document.getElementById("todayEarning").innerText = (userData.coins * 0.01).toFixed(2);  
  document.getElementById("lifetimeEarning").innerText = (userData.coins * 0.01).toFixed(2);  
  document.getElementById("myRefCode").value = userData.myCode;  
  document.getElementById("refLink").value = "https://t.me/AdBikashBot?start=" + userData.username;  
}  
  
function showAd() {  
  if (adCooldown) return alert("Wait 2 minutes to continue.");  
  const btn = document.querySelector("button[onclick='showAd()']");  
  btn.disabled = true;  
  btn.innerText = "Watching Ad...";  
  const adDiv = document.createElement("div");  
  adDiv.setAttribute("data-sdk", "show_9370281");  
  document.getElementById("adContainer").innerHTML = "";  
  document.getElementById("adContainer").appendChild(adDiv);  
  if (window.show_9370281) {  
    show_9370281();  
    setTimeout(() => {  
      userData.completed++;  
      userData.completedEarn = (userData.completedEarn || 0) + 1;  
      userData.coins += 10;  
      if (userData.completedEarn >= 20) {  
        adCooldown = true;  
        let countdown = 120;  
        const interval = setInterval(() => {  
          countdown--;  
          btn.innerText = "Cooldown " + Math.floor(countdown / 60) + ":" + (countdown % 60).toString().padStart(2, '0');  
          if (countdown <= 0) {  
            clearInterval(interval);  
            btn.disabled = false;  
            btn.innerText = "Start Task Monetag";  
            adCooldown = false;  
            userData.completedEarn = 0;  
            localStorage.setItem("adsUser_" + userData.username, JSON.stringify(userData));  
          }  
        }, 1000);  
      } else {  
        btn.disabled = false;  
        btn.innerText = "Start Task Monetag";  
      }  
      localStorage.setItem("adsUser_" + userData.username, JSON.stringify(userData));  
      updateUI();  
    }, 10000);  
  } else {  
    alert("Ad failed to load.");  
  }  
}  
  
function submitWithdraw() {  
  const method = document.getElementById("method").value;  
  const amount = parseInt(document.getElementById("amount").value);  
  const wallet = document.getElementById("wallet").value;  
  if (!method || !amount || !wallet) return alert("Fill all fields.");  
  const valid =   
    (method === "recharge" && userData.coins >= 5000 && [25,30,40,50].includes(amount)) ||  
    (method === "bkash" && userData.coins >= 10000 && [50,60,70,80,90,100].includes(amount));  
  if (!valid) return alert("Invalid amount or insufficient coins.");  
  userData.coins -= (method === "recharge" ? 5000 : 10000);  
  userData.withdrawn = true;  
  addWithdrawHistory(amount, method, wallet);  
  localStorage.setItem("adsUser_" + userData.username, JSON.stringify(userData));  
  checkReferralCommission();  
  updateUI();  
  alert("Withdrawal requested!");  
}  
  
function copyRefCode() {  
  const copyText = document.getElementById("refLink");  
  copyText.select();  
  document.execCommand("copy");  
  alert("Referral link copied!");  
}  
  
function setupReferral(userKey) {  
  const refInput = document.getElementById("refInput");  
  const usedRefKey = userKey + "_usedRef";  
  if (!localStorage.getItem(usedRefKey) && refInput) {  
    refInput.addEventListener("change", () => {  
      const entered = refInput.value.trim();  
      if (entered && entered !== userData.myCode) {  
        localStorage.setItem(usedRefKey, "true");  
        userData.coins += 50;  
        userData.referredBy = entered;  
        localStorage.setItem(userKey, JSON.stringify(userData));  
        updateUI();  
        alert("Referral accepted! You earned 50 coins.");  
      } else {  
        alert("Invalid or self-referral not allowed.");  
      }  
    });  
  }  
}  
  
function checkReferralCommission() {  
  if (userData.referredBy && userData.completed >= 10 && userData.withdrawn && !userData.referralCommissionGiven) {  
    const refKey = "adsUser_" + userData.referredBy;  
    const refUserDataRaw = localStorage.getItem(refKey);  
    if (refUserDataRaw) {  
      const refUserData = JSON.parse(refUserDataRaw);  
      refUserData.coins += 100;  
      localStorage.setItem(refKey, JSON.stringify(refUserData));  
      userData.referralCommissionGiven = true;  
      localStorage.setItem("adsUser_" + userData.username, JSON.stringify(userData));  
      alert("Your referrer received 1 BDT commission!");  
    }  
  }  
}  
  
function navigate(page) {  
  document.querySelectorAll(".container").forEach(div => div.classList.add("hidden"));  
  document.getElementById(page).classList.remove("hidden");  
  updateUI();  
  if (page === 'leaderboard') showLeaderboard();  
  if (page === 'withdrawHistory') showWithdrawHistory();  
}  
  
function showLeaderboard() {  
  const allUsers = [];  
  for (let key in localStorage) {  
    if (key.startsWith("adsUser_")) {  
      const data = JSON.parse(localStorage.getItem(key));  
      if (data && data.coins) {  
        allUsers.push({ username: data.username, coins: data.coins });  
      }  
    }  
  }  
  allUsers.sort((a, b) => b.coins - a.coins);  
  const top10 = allUsers.slice(0, 10);  
  const list = document.getElementById("leaderboardList");  
  list.innerHTML = "";  
  top10.forEach((user, i) => {  
    const li = document.createElement("li");  
    li.textContent = `${i + 1}. ${user.username} ‚Äî ${user.coins} Coins`;  
    list.appendChild(li);  
  });  
}  
  
function addWithdrawHistory(amount, method, wallet) {  
  const key = "withdrawHistory_" + userData.username;  
  const history = JSON.parse(localStorage.getItem(key) || "[]");  
  history.push({ amount, method, wallet, date: new Date().toLocaleString() });  
  localStorage.setItem(key, JSON.stringify(history));  
}  
  
function showWithdrawHistory() {  
  const key = "withdrawHistory_" + userData.username;  
  const history = JSON.parse(localStorage.getItem(key) || "[]");  
  const list = document.getElementById("withdrawList");  
  list.innerHTML = "";  
  history.forEach(item => {  
    const li = document.createElement("li");  
    li.textContent = `${item.date} ‚Äî ${item.method} ‚Äî ${item.amount} BDT to ${item.wallet}`;  
    list.appendChild(li);  
  });  
}  
</script>  
<script>
  const BOT_LINK = "https://t.me/AdBikashBot";
  const urlParams = new URLSearchParams(window.location.search);
  const ref = urlParams.get("ref");
  if (ref) localStorage.setItem("pendingReferral", ref);

  document.addEventListener("DOMContentLoaded", () => {
    const startBtn = document.getElementById("startBtn");
    const refCode = localStorage.getItem("pendingReferral");
    if (startBtn) {
      startBtn.href = refCode ? `${BOT_LINK}?start=${refCode}` : BOT_LINK;
    }
  });
</script>


<script>
const BOT_LINK = "https://t.me/AdBikashBot";
const urlParams = new URLSearchParams(window.location.search);
const ref = urlParams.get("ref");
if (ref) localStorage.setItem("pendingReferral", ref);

document.addEventListener("DOMContentLoaded", () => {
  const existingUserKey = Object.keys(localStorage).find(k => k.startsWith("adsUser_"));
  if (existingUserKey) {
    const data = JSON.parse(localStorage.getItem(existingUserKey));
    if (data && data.myCode) {
      window.location.href = `${BOT_LINK}?start=${data.myCode}`;
      return;
    }
  }
  const startBtn = document.getElementById("startBtn");
  if (startBtn) {
    const refCode = localStorage.getItem("pendingReferral");
    startBtn.href = refCode ? `${BOT_LINK}?start=${refCode}` : BOT_LINK;
  }
});
</script>


<script>
window.onload = () => {
  Telegram.WebApp.expand();
  const tgUser = Telegram.WebApp.initDataUnsafe.user;
  if (tgUser) {
    const username = tgUser.username || ("user" + tgUser.id);
    const userKey = "adsUser_" + username;
    const saved = localStorage.getItem(userKey);
    let userData = saved ? JSON.parse(saved) : {
      coins: 0,
      completed: 0,
      completedEarn: 0,
      username,
      myCode: "REF" + Math.floor(Math.random() * 100000),
      referrals: [],
      withdrawn: false,
      referredBy: localStorage.getItem("pendingReferral") || null
    };
    localStorage.setItem(userKey, JSON.stringify(userData));
    localStorage.setItem("activeUser", username);
    document.getElementById("welcomeScreen").classList.add("hidden");
    document.getElementById("home").classList.remove("hidden");
    document.getElementById("navBar").classList.remove("hidden");
    document.getElementById("userDisplay").innerText = username;
    document.getElementById("profileUsername").innerText = username;
    document.getElementById("balance").innerText = userData.coins;
    document.getElementById("balanceWithdraw").innerText = userData.coins;
    document.getElementById("balanceProfile").innerText = userData.coins;
    document.getElementById("completed").innerText = userData.completed;
    document.getElementById("completedEarn").innerText = userData.completedEarn || 0;
    document.getElementById("todayEarning").innerText = (userData.coins * 0.01).toFixed(2);
    document.getElementById("lifetimeEarning").innerText = (userData.coins * 0.01).toFixed(2);
    document.getElementById("myRefCode").value = userData.myCode;
    document.getElementById("refLink").value = "https://skjonaeyt-ads-and-incam-many-bot.vercel.app?ref=" + userData.myCode;
  }
};
</script>

</body>  
</html>